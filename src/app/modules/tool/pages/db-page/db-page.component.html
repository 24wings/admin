<!-- 工具条 如导出全部数据结构,导出关系图表,导出mysql 等 -->

<!-- <button nzType="primary" nz-button [routerLink]="'table'" [queryParams]="{mode:'create'}">新建表</button> -->
<button nzType="primary" nz-button (click)="state=View.AddDatabase">添加数据库</button>

<nz-table #basicTable [nzData]="dataSet">
    <thead>
        <tr>
            <th>数据库名称</th>
            <th>备注</th>
            <th>表数</th>
            <!-- <th>关联表</th> -->
            <th>操作</th>
        </tr>
    </thead>
    <tbody>
        <tr *ngFor="let data of dbs">
            <td>{{data.name}}</td>
            <td>{{data.comment}}</td>
            <!-- <td>{{data.fieldSize}}</td> -->
            <td></td>
            <td>
                <button nz-button nzType="primary" [routerLink]="['/admin/tool/db/'+data.dbId]"> 编辑 </button>
                <button nz-button nzType="danger" (click)="removeTable(data)">删除</button>
            </td>
        </tr>
    </tbody>
</nz-table>


<nz-modal [(nzVisible)]="View.AddDatabase==state" nzTitle="添加数据库" (nzOnCancel)="state=View.List" (nzOnOk)="state=View.List;createDb()">
    <div>
        <nz-form-item>
            <nz-form-label [nzSpan]="6">数据库名称</nz-form-label>
            <nz-form-control [nzSpan]="14">
                <input nz-input type="text" [(ngModel)]="newDb.name">
            </nz-form-control>
        </nz-form-item>
        <nz-form-item>
            <nz-form-label [nzSpan]="6">数据库备注</nz-form-label>
            <nz-form-control [nzSpan]="14">
                <input nz-input type="text" [(ngModel)]="newDb.comment">
            </nz-form-control>
        </nz-form-item>
    </div>
</nz-modal>